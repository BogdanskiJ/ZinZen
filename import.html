<!doctype html>

<html lang="en" data-theme="light">

<head>
    <title>ZinZen&reg;</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="ZinZen&reg;">
    <meta name="author" content="Tijl Leenders">

    <link rel="manifest" href="/manifest.webmanifest">
    <link rel="stylesheet" href="css/bootstrap/bootstrap.min.css" />
</head>

<body class="body" id="page-body">

    <div class="container" id="dream-screen">
        <div class="row mt-4" id="main-info">
            <div class="col-12 d-flex justify-content-center">
                <img src="./img/icons-192.png" alt="ZinZen" width="192" height="192">
            </div>
            <div class="col-12 d-flex justify-content-center">
                <div>
                    <p>
                    <div class="fs-2 text-center">ZinZen</div>
                    <div class="fs-6 text-center">Realize dreams together.</div>
                    </p>
                </div>
            </div>
            <div class="col-12 d-flex justify-content-center">
                <div class="m-1" id="import-file">
                    <button type="button" class="btn btn-primary btn-lg m-1" id="import-file-button">Import!</button>
                </div>
            </div>
            <div class="col-12 mt-4" id="import-form">
                <input type="file" id="file-selector" accept=".txt">
                <!--TODO: https://developer.mozilla.org/en-US/docs/Web/API/File/Using_files_from_web_applications#using_hidden_file_input_elements_using_the_click_method -->
                <script>
                    const fileSelector = document.getElementById('file-selector');
                    fileSelector.addEventListener('change', (event) => {
                        const fileList = event.target.files;
                        console.log(fileList);
                    });
                </script>
            </div>
            <div class="col-12 mt-4" id="file-info-preview">

            </div>
        </div>
    </div>

    <script type='application/javascript'>
        document.querySelector('#import-file').addEventListener('click', () => {
            console.log("click")
            let selectedFile = document.getElementById('file-selector').files[0];

            const reader = new FileReader();
            reader.onload = function (e) {
                // The file's text will be printed here
                let readText = e.target.result
                document.getElementById('file-info-preview').innerHTML = readText;
                let dataToLoadJSON = JSON.parse(readText);
                console.log(dataToLoadJSON);
            };
            reader.readAsText(selectedFile);
        });
    </script>
</body>

</html>